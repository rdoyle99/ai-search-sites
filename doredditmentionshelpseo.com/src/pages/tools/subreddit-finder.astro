---
import Base from '../../layouts/Base.astro';
import { siteConfig } from '../../config';

const schema = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Subreddit Finder for Marketing",
  "applicationCategory": "BusinessApplication",
  "description": "Find the best subreddits for your industry based on size, engagement rate, and content relevance.",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
};
---

<Base
  title="Subreddit Finder for Marketing | Do Reddit Mentions Help SEO"
  description="Free tool: find the best subreddits for your industry based on size, engagement rate, and SEO potential."
  schema={schema}
>
  <section class="max-w-3xl mx-auto px-4 sm:px-6 py-12 md:py-20">
    <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900">Subreddit Finder for Marketing</h1>
    <p class="mt-4 text-lg text-gray-600">
      Select your industry and we'll show you the best subreddits for marketing and SEO — ranked by engagement, size, and Google indexing potential.
    </p>

    <div class="mt-10 p-6 border border-gray-200 rounded-lg bg-white">
      <div class="space-y-4">
        <div>
          <label for="industry" class="block text-sm font-medium text-gray-700">Your industry</label>
          <select id="industry" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
            <option value="">Select your industry...</option>
            <option value="saas">SaaS / Software</option>
            <option value="ecommerce">E-Commerce / DTC</option>
            <option value="agency">Marketing Agency</option>
            <option value="finance">Finance / Fintech</option>
            <option value="health">Health / Wellness</option>
            <option value="realestate">Real Estate</option>
            <option value="education">Education / EdTech</option>
            <option value="crypto">Crypto / Web3</option>
            <option value="ai">AI / Machine Learning</option>
            <option value="freelance">Freelancing / Consulting</option>
          </select>
        </div>
        <button id="find-btn" class="w-full px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors">
          Find Subreddits
        </button>
      </div>

      <div id="results" class="mt-8 hidden">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-semibold text-gray-900">Recommended Subreddits</h2>
          <span id="result-count" class="text-sm text-gray-500"></span>
        </div>
        <div id="subreddit-list" class="space-y-3"></div>
      </div>
    </div>

    <div class="mt-8 p-6 border border-blue-200 rounded-lg bg-blue-50">
      <p class="text-sm font-medium text-blue-900">Need help with Reddit marketing?</p>
      <p class="mt-1 text-sm text-blue-700">
        <a href={siteConfig.product.url} target="_blank" rel="noopener noreferrer" class="font-semibold underline">{siteConfig.product.name}</a> helps you identify the right communities and craft outreach strategies that drive real SEO results.
      </p>
      <a href={siteConfig.product.url} target="_blank" rel="noopener noreferrer" class="mt-3 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 transition-colors">
        Try {siteConfig.product.name} free &rarr;
      </a>
    </div>

    <div class="mt-12 prose max-w-none">
      <h2>How to Choose Subreddits for Marketing</h2>
      <p>
        The best subreddits for marketing combine three factors: enough members to generate meaningful engagement, active discussion culture (high comment-to-post ratios), and topical relevance to your product or service. Subreddits with 50,000–500,000 members typically offer the best balance of reach and engagement quality.
      </p>
      <p>
        Avoid the largest subreddits (1M+ members) for marketing purposes — content gets buried quickly and moderators are more aggressive about removing promotional content. Instead, focus on niche communities where your expertise is valued and your contributions stand out.
      </p>
    </div>
  </section>
</Base>

<script>
  interface SubredditData {
    name: string;
    members: string;
    engagementRate: string;
    seoScore: number;
    googleIndexed: string;
    description: string;
    selfPromoRules: string;
    tier: string;
  }

  const subredditDatabase: Record<string, SubredditData[]> = {
    saas: [
      { name: 'r/SaaS', members: '85K', engagementRate: '4.2%', seoScore: 92, googleIndexed: '89%', description: 'Main SaaS discussion community — product feedback, growth tactics, launches', selfPromoRules: 'Allowed with value-add', tier: 'Primary' },
      { name: 'r/startups', members: '1.2M', engagementRate: '2.8%', seoScore: 95, googleIndexed: '94%', description: 'Startup ecosystem discussions — growth, fundraising, product-market fit', selfPromoRules: 'Weekly promo thread only', tier: 'Primary' },
      { name: 'r/Entrepreneur', members: '2.1M', engagementRate: '2.1%', seoScore: 96, googleIndexed: '96%', description: 'Entrepreneurship advice and discussion — broad but high DA', selfPromoRules: 'No direct promotion', tier: 'Primary' },
      { name: 'r/sales', members: '210K', engagementRate: '3.5%', seoScore: 88, googleIndexed: '82%', description: 'B2B sales tactics, tools, and career discussions', selfPromoRules: 'Strict — value only', tier: 'Secondary' },
      { name: 'r/indiehackers', members: '45K', engagementRate: '5.1%', seoScore: 78, googleIndexed: '72%', description: 'Solo founders and bootstrapped SaaS builders', selfPromoRules: 'Show and tell welcome', tier: 'Secondary' },
      { name: 'r/microsaas', members: '32K', engagementRate: '5.8%', seoScore: 71, googleIndexed: '65%', description: 'Micro-SaaS products, revenue sharing, build in public', selfPromoRules: 'Open to showcases', tier: 'Niche' },
      { name: 'r/growmybusiness', members: '28K', engagementRate: '6.2%', seoScore: 65, googleIndexed: '58%', description: 'Small business growth strategies and tools', selfPromoRules: 'Helpful advice appreciated', tier: 'Niche' },
    ],
    ecommerce: [
      { name: 'r/ecommerce', members: '180K', engagementRate: '3.8%', seoScore: 90, googleIndexed: '87%', description: 'E-commerce strategy, tools, and industry discussions', selfPromoRules: 'No direct promotion', tier: 'Primary' },
      { name: 'r/shopify', members: '250K', engagementRate: '3.2%', seoScore: 91, googleIndexed: '90%', description: 'Shopify-specific discussions, apps, and store optimization', selfPromoRules: 'Helpful comments only', tier: 'Primary' },
      { name: 'r/FulfillmentByAmazon', members: '150K', engagementRate: '3.5%', seoScore: 85, googleIndexed: '83%', description: 'Amazon FBA sellers — products, strategy, logistics', selfPromoRules: 'No promo', tier: 'Secondary' },
      { name: 'r/dropship', members: '95K', engagementRate: '4.0%', seoScore: 78, googleIndexed: '75%', description: 'Dropshipping community — sourcing, platforms, marketing', selfPromoRules: 'Educational content welcome', tier: 'Secondary' },
      { name: 'r/smallbusiness', members: '450K', engagementRate: '3.0%', seoScore: 93, googleIndexed: '91%', description: 'Small business owners — operations, marketing, growth', selfPromoRules: 'Strict — no promotion', tier: 'Primary' },
    ],
    agency: [
      { name: 'r/marketing', members: '580K', engagementRate: '2.5%', seoScore: 94, googleIndexed: '93%', description: 'General marketing discussions — strategy, tools, trends', selfPromoRules: 'No self-promotion', tier: 'Primary' },
      { name: 'r/SEO', members: '320K', engagementRate: '3.1%', seoScore: 92, googleIndexed: '91%', description: 'SEO strategies, algorithm updates, technical SEO', selfPromoRules: 'No tool promotion', tier: 'Primary' },
      { name: 'r/PPC', members: '85K', engagementRate: '4.5%', seoScore: 82, googleIndexed: '78%', description: 'Paid advertising — Google Ads, Meta Ads, strategy', selfPromoRules: 'Advice welcome', tier: 'Secondary' },
      { name: 'r/digital_marketing', members: '190K', engagementRate: '2.9%', seoScore: 87, googleIndexed: '84%', description: 'Digital marketing strategy and tactics', selfPromoRules: 'No direct links', tier: 'Primary' },
      { name: 'r/socialmedia', members: '250K', engagementRate: '2.4%', seoScore: 86, googleIndexed: '85%', description: 'Social media strategy and platform updates', selfPromoRules: 'No promo', tier: 'Secondary' },
    ],
    finance: [
      { name: 'r/fintech', members: '65K', engagementRate: '3.8%', seoScore: 80, googleIndexed: '76%', description: 'Fintech products, industry trends, and innovation', selfPromoRules: 'Discussions welcome', tier: 'Primary' },
      { name: 'r/personalfinance', members: '18M', engagementRate: '1.2%', seoScore: 98, googleIndexed: '97%', description: 'Personal finance advice — massive reach, strict rules', selfPromoRules: 'Very strict — no promo', tier: 'Primary' },
      { name: 'r/investing', members: '2.5M', engagementRate: '1.8%', seoScore: 96, googleIndexed: '95%', description: 'Investment discussions and market analysis', selfPromoRules: 'No promotion', tier: 'Primary' },
      { name: 'r/FinancialPlanning', members: '120K', engagementRate: '3.2%', seoScore: 83, googleIndexed: '80%', description: 'Financial planning advice and tools', selfPromoRules: 'Helpful advice only', tier: 'Secondary' },
    ],
    health: [
      { name: 'r/health', members: '850K', engagementRate: '2.0%', seoScore: 93, googleIndexed: '91%', description: 'General health discussions and wellness', selfPromoRules: 'No promotion', tier: 'Primary' },
      { name: 'r/fitness', members: '11M', engagementRate: '1.5%', seoScore: 97, googleIndexed: '96%', description: 'Fitness advice, routines, and nutrition', selfPromoRules: 'Strict rules', tier: 'Primary' },
      { name: 'r/nutrition', members: '3.2M', engagementRate: '1.8%', seoScore: 95, googleIndexed: '94%', description: 'Nutrition science and diet discussions', selfPromoRules: 'No marketing', tier: 'Secondary' },
      { name: 'r/supplements', members: '450K', engagementRate: '2.8%', seoScore: 88, googleIndexed: '85%', description: 'Supplement discussions, reviews, and research', selfPromoRules: 'Moderate', tier: 'Secondary' },
    ],
    realestate: [
      { name: 'r/realestateinvesting', members: '280K', engagementRate: '3.0%', seoScore: 89, googleIndexed: '86%', description: 'Real estate investment strategy and deals', selfPromoRules: 'No promo', tier: 'Primary' },
      { name: 'r/RealEstate', members: '650K', engagementRate: '2.5%', seoScore: 93, googleIndexed: '91%', description: 'General real estate discussions — buying, selling, renting', selfPromoRules: 'Strict', tier: 'Primary' },
      { name: 'r/Landlord', members: '95K', engagementRate: '4.0%', seoScore: 78, googleIndexed: '74%', description: 'Property management and landlord advice', selfPromoRules: 'Helpful responses ok', tier: 'Secondary' },
    ],
    education: [
      { name: 'r/edtech', members: '25K', engagementRate: '4.5%', seoScore: 68, googleIndexed: '62%', description: 'Education technology products and research', selfPromoRules: 'Discussions welcome', tier: 'Primary' },
      { name: 'r/education', members: '350K', engagementRate: '2.2%', seoScore: 90, googleIndexed: '88%', description: 'Education discussions and policy', selfPromoRules: 'No promotion', tier: 'Primary' },
      { name: 'r/Teachers', members: '450K', engagementRate: '3.5%', seoScore: 90, googleIndexed: '88%', description: 'Teacher community — resources and discussions', selfPromoRules: 'Strict', tier: 'Primary' },
    ],
    crypto: [
      { name: 'r/CryptoCurrency', members: '7.5M', engagementRate: '2.0%', seoScore: 97, googleIndexed: '96%', description: 'Main crypto community — massive reach', selfPromoRules: 'No shilling', tier: 'Primary' },
      { name: 'r/defi', members: '180K', engagementRate: '3.2%', seoScore: 84, googleIndexed: '80%', description: 'DeFi protocols and yield strategies', selfPromoRules: 'Project discussions ok', tier: 'Secondary' },
      { name: 'r/web3', members: '45K', engagementRate: '4.0%', seoScore: 72, googleIndexed: '68%', description: 'Web3 development and ecosystem', selfPromoRules: 'Build-in-public welcome', tier: 'Niche' },
    ],
    ai: [
      { name: 'r/artificial', members: '950K', engagementRate: '2.5%', seoScore: 94, googleIndexed: '92%', description: 'AI news, research, and industry discussion', selfPromoRules: 'No promotion', tier: 'Primary' },
      { name: 'r/MachineLearning', members: '3M', engagementRate: '1.8%', seoScore: 96, googleIndexed: '95%', description: 'ML research, papers, and technical discussions', selfPromoRules: 'Very strict', tier: 'Primary' },
      { name: 'r/ChatGPT', members: '5M', engagementRate: '2.2%', seoScore: 95, googleIndexed: '94%', description: 'ChatGPT and LLM discussions — huge audience', selfPromoRules: 'No promo', tier: 'Primary' },
      { name: 'r/LocalLLaMA', members: '350K', engagementRate: '3.5%', seoScore: 85, googleIndexed: '82%', description: 'Local AI model deployment and optimization', selfPromoRules: 'Technical sharing ok', tier: 'Secondary' },
    ],
    freelance: [
      { name: 'r/freelance', members: '230K', engagementRate: '3.0%', seoScore: 87, googleIndexed: '84%', description: 'Freelancing advice — clients, pricing, contracts', selfPromoRules: 'No promo', tier: 'Primary' },
      { name: 'r/consulting', members: '45K', engagementRate: '4.2%', seoScore: 74, googleIndexed: '70%', description: 'Consulting business strategy and pricing', selfPromoRules: 'Discussions ok', tier: 'Secondary' },
      { name: 'r/upwork', members: '85K', engagementRate: '3.8%', seoScore: 78, googleIndexed: '75%', description: 'Upwork platform tips and freelance marketplace', selfPromoRules: 'Helpful advice only', tier: 'Secondary' },
    ],
  };

  document.getElementById('find-btn')?.addEventListener('click', () => {
    const industry = (document.getElementById('industry') as HTMLSelectElement).value;
    if (!industry) return;

    const subs = subredditDatabase[industry] || [];
    const results = document.getElementById('results')!;
    const list = document.getElementById('subreddit-list')!;

    document.getElementById('result-count')!.textContent = `${subs.length} subreddits found`;

    const tierColors: Record<string, string> = {
      'Primary': 'bg-green-100 text-green-700',
      'Secondary': 'bg-blue-100 text-blue-700',
      'Niche': 'bg-purple-100 text-purple-700',
    };

    list.innerHTML = subs.map(sub => `
      <div class="p-4 border border-gray-200 rounded-lg">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-2">
            <a href="https://reddit.com/${sub.name}" target="_blank" rel="noopener noreferrer" class="font-semibold text-blue-600 hover:text-blue-800">${sub.name}</a>
            <span class="text-xs font-medium px-2 py-0.5 rounded-full ${tierColors[sub.tier]}">${sub.tier}</span>
          </div>
          <span class="text-sm text-gray-500">${sub.members} members</span>
        </div>
        <p class="mt-1 text-sm text-gray-600">${sub.description}</p>
        <div class="mt-3 grid grid-cols-2 sm:grid-cols-4 gap-3 text-center">
          <div class="p-2 bg-gray-50 rounded">
            <p class="text-xs text-gray-400">Engagement</p>
            <p class="font-semibold text-gray-900">${sub.engagementRate}</p>
          </div>
          <div class="p-2 bg-gray-50 rounded">
            <p class="text-xs text-gray-400">SEO Score</p>
            <p class="font-semibold text-gray-900">${sub.seoScore}/100</p>
          </div>
          <div class="p-2 bg-gray-50 rounded">
            <p class="text-xs text-gray-400">Google Indexed</p>
            <p class="font-semibold text-gray-900">${sub.googleIndexed}</p>
          </div>
          <div class="p-2 bg-gray-50 rounded">
            <p class="text-xs text-gray-400">Self-Promo</p>
            <p class="font-semibold text-xs text-gray-900">${sub.selfPromoRules}</p>
          </div>
        </div>
      </div>
    `).join('');

    results.classList.remove('hidden');
  });
</script>
