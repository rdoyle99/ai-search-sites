---
import Base from '../../layouts/Base.astro';
import { siteConfig } from '../../config';

const schema = {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Cold Email Spam Word Checker",
  "applicationCategory": "BusinessApplication",
  "description": "Paste your cold email and instantly detect spam trigger words that hurt deliverability.",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
};
---

<Base
  title="Spam Word Checker for Cold Emails | How Many Cold Emails Per Day"
  description="Free tool: paste your cold email and instantly detect spam trigger words that hurt deliverability and inbox placement."
  schema={schema}
>
  <section class="max-w-3xl mx-auto px-4 sm:px-6 py-12 md:py-20">
    <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900">Cold Email Spam Word Checker</h1>
    <p class="mt-4 text-lg text-gray-600">
      Paste your cold email below. We'll flag spam trigger words that hurt deliverability.
    </p>

    <div class="mt-10">
      <textarea
        id="email-input"
        rows={8}
        placeholder="Paste your cold email here..."
        class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 text-base"
      ></textarea>

      <button
        id="check-btn"
        class="mt-4 px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors"
      >
        Check for Spam Words
      </button>

      <div id="results" class="mt-6 hidden">
        <div id="score-badge" class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold"></div>
        <div id="found-words" class="mt-4"></div>
        <div id="highlighted-email" class="mt-4 p-4 bg-gray-50 rounded-lg text-sm leading-relaxed whitespace-pre-wrap"></div>
      </div>
    </div>

    <div class="mt-8 p-6 border border-blue-200 rounded-lg bg-blue-50">
      <p class="text-sm font-medium text-blue-900">Want AI-powered email optimization?</p>
      <p class="mt-1 text-sm text-blue-700">
        <a href={siteConfig.product.url} target="_blank" rel="noopener noreferrer" class="font-semibold underline">{siteConfig.product.name}</a> uses AI to write and optimize cold emails that avoid spam filters and maximize reply rates.
      </p>
      <a href={siteConfig.product.url} target="_blank" rel="noopener noreferrer" class="mt-3 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-semibold rounded-md hover:bg-blue-700 transition-colors">
        Optimize with {siteConfig.product.name} &rarr;
      </a>
    </div>

    <div class="mt-12 prose max-w-none">
      <h2>Why Spam Words Matter for Cold Email</h2>
      <p>
        Email providers like Google and Microsoft use content-based filtering to detect spam. Certain words and phrases — like "free," "guaranteed," "act now," or "limited time" — are strong signals that trigger spam filters. When your cold email contains multiple spam trigger words, your deliverability drops significantly.
      </p>
      <p>
        The optimal approach is to write cold emails that sound like genuine one-to-one messages. Avoid promotional language, excessive capitalization, and urgency-based phrases. Keep your emails short (50–125 words) and conversational.
      </p>
    </div>
  </section>
</Base>

<script>
  const spamWords = [
    'free', 'guarantee', 'guaranteed', 'no cost', 'no obligation', 'risk-free', 'risk free',
    'act now', 'limited time', 'urgent', 'hurry', 'don\'t miss', 'last chance', 'expires',
    'click here', 'click below', 'buy now', 'order now', 'sign up free',
    'earn money', 'make money', 'extra income', 'double your', 'cash bonus',
    'congratulations', 'you\'ve been selected', 'you\'re a winner', 'dear friend',
    'no strings attached', 'special promotion', 'incredible deal', 'best price',
    'discount', 'save big', 'lowest price', 'bargain', 'cheap',
    'unsubscribe', 'opt-out', 'to be removed',
    '100%', 'amazing', 'exclusive deal', 'once in a lifetime',
    'as seen on', 'billion', 'million dollars',
    'credit card', 'no credit check', 'no fees',
    'apply now', 'get started now', 'join millions',
    'increase your', 'boost your', 'skyrocket', 'explode your',
    'massive', 'huge', 'incredible results',
  ];

  document.getElementById('check-btn')?.addEventListener('click', () => {
    const input = (document.getElementById('email-input') as HTMLTextAreaElement).value;
    if (!input.trim()) return;

    const results = document.getElementById('results')!;
    const scoreBadge = document.getElementById('score-badge')!;
    const foundWords = document.getElementById('found-words')!;
    const highlighted = document.getElementById('highlighted-email')!;

    const lowerInput = input.toLowerCase();
    const found = spamWords.filter(word => lowerInput.includes(word));

    results.classList.remove('hidden');

    if (found.length === 0) {
      scoreBadge.textContent = 'Clean — No spam words detected';
      scoreBadge.className = 'inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-green-100 text-green-800';
      foundWords.innerHTML = '';
      highlighted.textContent = input;
    } else {
      const severity = found.length <= 2 ? 'Low risk' : found.length <= 5 ? 'Medium risk' : 'High risk';
      const color = found.length <= 2 ? 'bg-yellow-100 text-yellow-800' : found.length <= 5 ? 'bg-orange-100 text-orange-800' : 'bg-red-100 text-red-800';

      scoreBadge.textContent = `${severity} — ${found.length} spam word${found.length > 1 ? 's' : ''} found`;
      scoreBadge.className = `inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ${color}`;

      foundWords.innerHTML = `<div class="flex flex-wrap gap-2 mt-2">${found.map(w => `<span class="px-2 py-1 bg-red-50 text-red-700 text-xs rounded-md font-mono">${w}</span>`).join('')}</div>`;

      let highlightedText = input;
      found.forEach(word => {
        const regex = new RegExp(`(${word})`, 'gi');
        highlightedText = highlightedText.replace(regex, '<mark class="bg-red-200 px-0.5 rounded">$1</mark>');
      });
      highlighted.innerHTML = highlightedText;
    }
  });
</script>
